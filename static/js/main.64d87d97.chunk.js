(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var i=n(2),c=n.n(i),r=n(7),a=n.n(r),s=(n(13),n(8)),o=n(5),u=n(1),l=n(0),d=function(t){var e=t.length,n=t.difficulty,i=t.onChangeDifficulty,c=n<5?"":"is-hidden",r=n>1?"":"is-hidden";return Object(l.jsxs)("div",{className:"navigation",children:[Object(l.jsxs)("div",{className:"navigation-item",children:[Object(l.jsx)("span",{className:"navigation-label",children:"Length: "}),Object(l.jsx)("div",{className:"navigation-item-number-container",children:Object(l.jsx)("div",{className:"num-board",children:e})})]}),Object(l.jsxs)("div",{className:"navigation-item",children:[Object(l.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(l.jsxs)("div",{className:"navigation-item-number-container",children:[Object(l.jsx)("span",{className:"num-board",children:n}),Object(l.jsxs)("div",{className:"difficulty-button-container",children:[Object(l.jsx)("div",{className:"difficulty-button difficulty-up ".concat(c),onClick:function(){return i(n+1)}}),Object(l.jsx)("div",{className:"difficulty-button difficulty-down ".concat(r),onClick:function(){return i(n-1)}})]})]})]})]})},f=function(t){var e=t.fields;return Object(l.jsx)("div",{className:"field",children:e.map((function(t,e){return t.map((function(t,n){return Object(l.jsx)("div",{className:"dots ".concat(t)},"row=".concat(e,"col=").concat(n))}))}))})},j=function(t,e){for(var n=function(){var n=Math.floor(Math.random()*(t-1-1))+1,i=Math.floor(Math.random()*(t-1-1))+1;if(!e.some((function(t){return t.x===n&&t.y===i})))return{v:{x:n,y:i}}};;){var i=n();if("object"===typeof i)return i.v}},b=function(t,e){for(var n=[],i=0;i<t;i++){var c=new Array(t).fill("");n.push(c)}n[e.y][e.x]="snake";var r=j(t,[e]);return n[r.y][r.x]="food",n},h=(b(35,{x:17,y:17}),[1e3,500,100,50,10]),y=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),O=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),v=Object.freeze({37:O.left,38:O.up,39:O.right,40:O.down}),x=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),m=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),p=function(t){var e=t.status,n=t.onStart,i=t.onStop,c=t.onRestart;return Object(l.jsxs)("div",{className:"button",children:[e===y.gameover&&Object(l.jsx)("button",{onClick:c,children:"gameover"}),e===y.init&&Object(l.jsx)("button",{onClick:n,children:"start"}),e===y.suspended&&Object(l.jsx)("button",{onClick:n,children:"start"}),e===y.playing&&Object(l.jsx)("button",{onClick:i,children:"stop"})]})},g=function(t){var e=t.onChange;return Object(l.jsxs)("div",{className:"manipulation-panel",children:[Object(l.jsx)("button",{onClick:function(){return e(O.left)},children:"\u2190"}),Object(l.jsx)("button",{onClick:function(){return e(O.up)},children:"\u2191"}),Object(l.jsx)("button",{onClick:function(){return e(O.down)},children:"\u2193"}),Object(l.jsx)("button",{onClick:function(){return e(O.right)},children:"\u2192"})]})},k={x:17,y:17},N=b(35,k),C=void 0,w=function(){C&&(console.log("unsubscribe"),clearInterval(C))},D=function(t,e){var n=t.body,i=t.fields,c=t.status,r=t.direction;switch(e.type){case"move":if(c!==y.playing)return t;var a=n[0],s=a.x,l=a.y,d=m[r],f={x:s+d.x,y:l+d.y};if(function(t,e){return e.y<0||e.x<0||e.y>t-1||e.x>t-1}(i.length,f)||function(t,e){return"snake"===t[e.y][e.x]}(i,f))return Object(u.a)(Object(u.a)({},t),{},{status:y.gameover});var v=Object(o.a)(n),p=Object(o.a)(i);if("food"!==p[f.y][f.x]){var g=v.pop();p[g.y][g.x]=""}else{var N=j(i.length,[].concat(Object(o.a)(v),[f]));p[N.y][N.x]="food"}return p[f.y][f.x]="snake",v.unshift(f),Object(u.a)(Object(u.a)({},t),{},{body:v,fields:p});case"changeDirection":return c!==y.playing||x[r]===e.direction?t:Object(u.a)(Object(u.a)({},t),{},{direction:e.direction});case"start":return Object(u.a)(Object(u.a)({},t),{},{status:y.playing});case"stop":return Object(u.a)(Object(u.a)({},t),{},{status:y.suspended});case"reset":return Object(u.a)(Object(u.a)({},t),{},{body:[k],fields:b(35,k),status:y.init,direction:O.up});case"changeDifficulty":return c!==y.init||(e.difficulty<1||e.difficulty>h.length)?t:Object(u.a)(Object(u.a)({},t),{},{difficulty:e.difficulty});default:throw new Error}};var S=function(){var t=Object(i.useReducer)(D,{body:[k],fields:N,status:y.init,direction:O.up,difficulty:3}),e=Object(s.a)(t,2),n=e[0],c=e[1];return Object(i.useEffect)((function(){var t=h[n.difficulty-1];return C=setInterval((function(){c({type:"move"})}),t),w}),[n.difficulty]),Object(i.useEffect)((function(){var t=function(t){var e=v[t.keyCode];e&&c({type:"changeDirection",direction:e})};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("div",{className:"title-container",children:Object(l.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(l.jsx)(d,{length:n.body.length,difficulty:n.difficulty,onChangeDifficulty:function(t){return c({type:"changeDifficulty",difficulty:t})}})]}),Object(l.jsx)("main",{className:"main",children:Object(l.jsx)(f,{fields:n.fields})}),Object(l.jsxs)("footer",{className:"footer",children:[Object(l.jsx)(p,{status:n.status,onStart:function(){return c({type:"start"})},onStop:function(){return c({type:"stop"})},onRestart:function(){return c({type:"reset"})}}),Object(l.jsx)(g,{onChange:function(t){return c({type:"changeDirection",direction:t})}})]})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),i(t),c(t),r(t),a(t)}))};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root")),E()}},[[15,1,2]]]);
//# sourceMappingURL=main.64d87d97.chunk.js.map