(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(7),o=n.n(i),a=(n(13),n(8)),s=n(6),u=n(2),d=n(0),f=function(){return Object(d.jsx)("p",{children:"navigation"})},l=function(e){var t=e.fields;return Object(d.jsx)("div",{className:"field",children:t.map((function(e,t){return e.map((function(e,n){return Object(d.jsx)("div",{className:"dots ".concat(e)},"row=".concat(t,"col=").concat(n))}))}))})},j=function(e,t){for(var n=[],r=0;r<e;r++){var c=new Array(e).fill("");n.push(c)}n[t.y][t.x]="snake";var i=function(e,t){for(var n=function(){var n=Math.floor(Math.random()*(e-1-1))+1,r=Math.floor(Math.random()*(e-1-1))+1;if(!t.some((function(e){return e.x===n&&e.y===r})))return{v:{x:n,y:r}}};;){var r=n();if("object"===typeof r)return r.v}}(e,[t]);return n[i.y][i.x]="food",n},b=(j(35,{x:17,y:17}),Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"})),h=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),O=Object.freeze({37:h.left,38:h.up,39:h.right,40:h.down}),v=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),x=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),y=function(e){var t=e.status,n=e.onStart,r=e.onRestart;return Object(d.jsx)("div",{className:"button",children:t===b.gameover?Object(d.jsx)("button",{onClick:r,children:"gameover"}):Object(d.jsx)("button",{onClick:n,children:"start"})})},p=function(e){var t=e.onChange;return Object(d.jsxs)("div",{className:"manipulation-panel",children:[Object(d.jsx)("button",{onClick:function(){return t(h.left)},children:"\u2190"}),Object(d.jsx)("button",{onClick:function(){return t(h.up)},children:"\u2191"}),Object(d.jsx)("button",{onClick:function(){return t(h.down)},children:"\u2193"}),Object(d.jsx)("button",{onClick:function(){return t(h.right)},children:"\u2192"})]})},g={x:17,y:17},m=j(35,g),k=void 0,w=function(){k&&(console.log("unsubscribe"),clearInterval(k))},C=function(e,t){var n=e.body,r=e.fields,c=e.status,i=e.direction;switch(t.type){case"move":if(c!==b.playing)return e;var o=n[0],a=o.x,d=o.y,f=x[i],l={x:a+f.x,y:d+f.y};if(function(e,t){return t.y<0||t.x<0||t.y>e-1||t.x>e-1}(r.length,l))return Object(u.a)(Object(u.a)({},e),{},{status:b.gameover});var O=Object(s.a)(n),y=Object(s.a)(r);if("food"!==y[l.y][l.x]){var p=O.pop();y[p.y][p.x]=""}return y[l.y][l.x]="snake",O.unshift(l),Object(u.a)(Object(u.a)({},e),{},{body:O,fields:y});case"changeDirection":return c!==b.playing||v[i]===t.direction?e:Object(u.a)(Object(u.a)({},e),{},{direction:t.direction});case"start":return Object(u.a)(Object(u.a)({},e),{},{status:b.playing});case"reset":return{body:[g],fields:j(35,g),status:b.init,direction:h.up};default:throw new Error}};var N=function(){var e=Object(r.useReducer)(C,{body:[g],fields:m,status:b.init,direction:h.up}),t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){return k=setInterval((function(){c({type:"move"})}),100),w}),[]),Object(r.useEffect)((function(){var e=function(e){var t=O[e.keyCode];t&&c({type:"changeDirection",direction:t})};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("div",{className:"title-container",children:Object(d.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(d.jsx)(f,{})]}),Object(d.jsx)("main",{className:"main",children:Object(d.jsx)(l,{fields:n.fields})}),Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)(y,{status:n.status,onStart:function(){return c({type:"start"})},onRestart:function(){return c({type:"reset"})}}),Object(d.jsx)(p,{onChange:function(e){return c({type:"changeDirection",direction:e})}})]})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),i(e),o(e)}))};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),E()}},[[15,1,2]]]);
//# sourceMappingURL=main.b0fe566e.chunk.js.map