(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{18:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var i=n(2),c=n.n(i),a=n(12),r=n.n(a),s=(n(18),n(0)),o=function(t){var e=t.length,n=t.difficulty,i=t.onChangeDifficulty,c=n<5?"":"is-hidden",a=n>1?"":"is-hidden";return Object(s.jsxs)("div",{className:"navigation",children:[Object(s.jsxs)("div",{className:"navigation-item",children:[Object(s.jsx)("span",{className:"navigation-label",children:"Length: "}),Object(s.jsx)("div",{className:"navigation-item-number-container",children:Object(s.jsx)("div",{className:"num-board",children:e})})]}),Object(s.jsxs)("div",{className:"navigation-item",children:[Object(s.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(s.jsxs)("div",{className:"navigation-item-number-container",children:[Object(s.jsx)("span",{className:"num-board",children:n}),Object(s.jsxs)("div",{className:"difficulty-button-container",children:[Object(s.jsx)("div",{className:"difficulty-button difficulty-up ".concat(c),onClick:function(){return i(n+1)}}),Object(s.jsx)("div",{className:"difficulty-button difficulty-down ".concat(a),onClick:function(){return i(n-1)}})]})]})]})]})},u=function(t){var e=t.fields;return Object(s.jsx)("div",{className:"field",children:e.map((function(t,e){return t.map((function(t,n){return Object(s.jsx)("div",{className:"dots ".concat(t)},"row=".concat(e,"col=").concat(n))}))}))})},l=function(t,e){for(var n=function(){var n=Math.floor(Math.random()*(t-1-1))+1,i=Math.floor(Math.random()*(t-1-1))+1;if(!e.some((function(t){return t.x===n&&t.y===i})))return{v:{x:n,y:i}}};;){var i=n();if("object"===typeof i)return i.v}},d=function(t,e){for(var n=[],i=0;i<t;i++){var c=new Array(t).fill("");n.push(c)}n[e.y][e.x]="snake";var a=l(t,[e]);return n[a.y][a.x]="food",n},f={x:17,y:17},b=d(35,f),j=[1e3,500,100,50,10],h=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),y=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),O=Object.freeze({37:y.left,38:y.up,39:y.right,40:y.down}),m=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),p=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),v=function(t){var e=t.status,n=t.onStart,i=t.onStop,c=t.onRestart;return Object(s.jsxs)("div",{className:"button",children:[e===h.gameover&&Object(s.jsx)("button",{className:"btn btn-gameover",onClick:c,children:"gameover"}),e===h.init&&Object(s.jsx)("button",{className:"btn btn-init",onClick:n,children:"start"}),e===h.suspended&&Object(s.jsx)("button",{className:"btn btn-suspended",onClick:n,children:"start"}),e===h.playing&&Object(s.jsx)("button",{className:"btn btn-playing",onClick:i,children:"stop"})]})},x=n(5),g=n(7),N=function(t){var e=t.onChange;return Object(s.jsxs)("div",{className:"manipulation-panel",children:[Object(s.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return e(y.left)},children:Object(s.jsx)(x.a,{icon:g.b})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return e(y.up)},children:Object(s.jsx)(x.a,{icon:g.d})}),Object(s.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return e(y.down)},children:Object(s.jsx)(x.a,{icon:g.a})})]}),Object(s.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return e(y.right)},children:Object(s.jsx)(x.a,{icon:g.c})})]})},k=n(13),w=n(9),C=n(3),D=void 0,S=function(){D&&clearInterval(D)},E=function(t,e){var n=t.body,i=t.fields,c=t.status,a=t.direction;switch(e.type){case"move":if(c!==h.playing)return t;var r=n[0],s=r.x,o=r.y,u=p[a],b={x:s+u.x,y:o+u.y};if(function(t,e){return e.y<0||e.x<0||e.y>t-1||e.x>t-1}(i.length,b)||function(t,e){return"snake"===t[e.y][e.x]}(i,b))return Object(C.a)(Object(C.a)({},t),{},{status:h.gameover});var O=Object(w.a)(n),v=Object(w.a)(i);if("food"!==v[b.y][b.x]){var x=O.pop();v[x.y][x.x]=""}else{var g=l(i.length,[].concat(Object(w.a)(O),[b]));v[g.y][g.x]="food"}return v[b.y][b.x]="snake",O.unshift(b),Object(C.a)(Object(C.a)({},t),{},{body:O,fields:v});case"changeDirection":return c!==h.playing||m[a]===e.direction?t:Object(C.a)(Object(C.a)({},t),{},{direction:e.direction});case"start":return Object(C.a)(Object(C.a)({},t),{},{status:h.playing});case"stop":return Object(C.a)(Object(C.a)({},t),{},{status:h.suspended});case"reset":return Object(C.a)(Object(C.a)({},t),{},{body:[f],fields:d(35,f),status:h.init,direction:y.up});case"changeDifficulty":return c!==h.init||(e.difficulty<1||e.difficulty>j.length)?t:Object(C.a)(Object(C.a)({},t),{},{difficulty:e.difficulty});default:throw new Error}},z=function(){var t=Object(i.useReducer)(E,{body:[f],fields:b,status:h.init,direction:y.up,difficulty:3}),e=Object(k.a)(t,2),n=e[0],c=e[1];Object(i.useEffect)((function(){var t=j[n.difficulty-1];return D=setInterval((function(){c({type:"move"})}),t),S}),[n.difficulty]),Object(i.useEffect)((function(){var t=function(t){var e=O[t.keyCode];e&&c({type:"changeDirection",direction:e})};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[]);return{body:n.body,difficulty:n.difficulty,fields:n.fields,status:n.status,start:function(){return c({type:"start"})},stop:function(){return c({type:"stop"})},reload:function(){return c({type:"reset"})},updateDirection:function(t){return c({type:"changeDirection",direction:t})},updateDifficulty:function(t){return c({type:"changeDifficulty",difficulty:t})}}};var L=function(){var t=z(),e=t.body,n=t.difficulty,i=t.fields,c=t.start,a=t.stop,r=t.reload,l=t.status,d=t.updateDirection,f=t.updateDifficulty;return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsxs)("header",{className:"header",children:[Object(s.jsx)("div",{className:"title-container",children:Object(s.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(s.jsx)(o,{length:e.length,difficulty:n,onChangeDifficulty:f})]}),Object(s.jsx)("main",{className:"main",children:Object(s.jsx)(u,{fields:i})}),Object(s.jsxs)("footer",{className:"footer",children:[Object(s.jsx)(v,{status:l,onStart:c,onStop:a,onRestart:r}),Object(s.jsx)(N,{onChange:d})]})]})},M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),i(t),c(t),a(t),r(t)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(L,{})}),document.getElementById("root")),M()}},[[25,1,2]]]);
//# sourceMappingURL=main.eeb184e4.chunk.js.map